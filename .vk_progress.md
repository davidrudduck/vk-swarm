# Binary Naming - Session 2 Progress

## Current Status: needs-review

## Objective
Rename `mcp_task_server` binary to `vks-mcp-server` (Session 2 of the Binary Renames & Mold Linker plan)

## Completed Items
- [x] Session 1: Rename `server` to `vks-node-server` (DONE - see previous commits)
- [x] Session 2: Rename `mcp_task_server` to `vks-mcp-server`
  - [x] Update `crates/server/Cargo.toml` - Added `[[bin]]` section with `name = "vks-mcp-server"`
  - [x] Update `crates/server/src/main.rs` - Updated binary path and error message at line 210
  - [x] Update `local-build.sh` - Changed `--bin mcp_task_server` to `--bin vks-mcp-server`
  - [x] Update `.github/workflows/pre-release.yml` - Updated all binary name references
  - [x] Run `cargo build --bin vks-mcp-server` - Build successful
  - [x] Run `cargo clippy --workspace --all-targets --all-features -- -D warnings` - Passed
  - [x] Run `cargo test --workspace` - All 293+ tests passed
  - [x] Test dev server in browser (desktop, mobile, dark mode)

## Files Changed
1. `crates/server/Cargo.toml` - Added explicit `[[bin]]` section for `vks-mcp-server`
2. `crates/server/src/main.rs` - Updated binary lookup path from `mcp_task_server` to `vks-mcp-server`
3. `local-build.sh` - Updated build command and binary copy path
4. `.github/workflows/pre-release.yml` - Updated Linux/non-Linux build commands, binary copy paths, and macOS signing

## Testing Performed
- Cargo build: SUCCESS (vks-mcp-server binary created)
- Cargo clippy: PASSED (no warnings)
- Cargo tests: 293+ tests passed
- Browser testing:
  - Desktop view (1440x900): Working
  - Mobile view (375x812): Working
  - Dark mode: Working
  - Kanban board: Functional
  - Settings page: Functional
  - No console errors

## Remaining Work
- [ ] Session 3: Rename `remote` to `vks-hive-server`
- [ ] Session 4: Add mold linker for Linux

## Next Session Recommendations
Proceed with Session 3 to rename `remote` binary to `vks-hive-server`. Files to modify:
- `crates/remote/Cargo.toml` - Add `[[bin]]` section with new name
- Any references to `remote` binary in build scripts or workflows
- Documentation that references the binary name

## Notes
- Both server binaries now follow the `vks-*` naming convention:
  - `vks-node-server` (main server)
  - `vks-mcp-server` (MCP protocol server)
- The MCP server is spawned by the main server when `MCP_PORT` is set
