# Vibe Kanban Environment Configuration
# Copy this file to .env and modify as needed

# =============================================================================
# Network Configuration (Local Development)
# =============================================================================

# Backend host binding
# - Use 127.0.0.1 for localhost only (default)
# - Use 0.0.0.0 for network access from other machines
# HOST=127.0.0.1

# Frontend port (default: 3000)
# FRONTEND_PORT=3000

# Backend port (default: 0 for auto-assign, or specify like 3001)
# BACKEND_PORT=3001

# Alternative: Set PORT to configure both (frontend=PORT, backend=PORT+1)
# PORT=3000

# Direct backend URL override for MCP server (optional, auto-derived if not set)
# VIBE_BACKEND_URL=http://localhost:3001

# =============================================================================
# Logging
# =============================================================================

# Log level: trace, debug, info, warn, error
# RUST_LOG=info

# =============================================================================
# Storage Configuration (Optional)
# =============================================================================
# Override default storage locations. Supports tilde expansion (e.g., ~/vibe-kanban/db.sqlite).
# See docs/configuration-customisation/storage-configuration for full guide.

# Database file path (default: platform-specific data directory)
# - Development: <project_root>/dev_assets/db.sqlite
# - Production: ~/.local/share/vibe-kanban/db.sqlite (Linux)
# VK_DATABASE_PATH=/custom/path/to/db.sqlite

# Backup storage directory (default: {data_dir}/backups)
# VK_BACKUP_DIR=/custom/backups

# Worktree storage directory (default: /var/tmp/vibe-kanban/worktrees)
# VK_WORKTREE_DIR=/custom/worktrees

# =============================================================================
# Database & Performance Configuration
# =============================================================================
# See docs/configuration-customisation/database-performance for full guide.

# SQLite connection pool size (default: 10)
# Reduce if experiencing lock contention, increase for high concurrency
# VK_SQLITE_MAX_CONNECTIONS=10

# =============================================================================
# File Logging (Optional)
# =============================================================================

# Enable file-based debug logging (default: false)
# Logs written to dev_assets/logs/ with daily rotation (JSON format)
# VK_FILE_LOGGING=false

# Log file directory (default: dev_assets/logs)
# VK_LOG_DIR=./dev_assets/logs

# Number of daily log files to retain (default: 7)
# VK_LOG_MAX_FILES=7

# =============================================================================
# WAL Monitoring Configuration
# =============================================================================

# WAL monitoring thresholds
# VK_WAL_CHECK_INTERVAL_SECS=60      # How often to check WAL size
# VK_WAL_WARNING_THRESHOLD_MB=50     # Log warning when WAL exceeds this
# VK_WAL_CHECKPOINT_THRESHOLD_MB=100 # Auto checkpoint when WAL exceeds this
# VK_WAL_AUTO_CHECKPOINT=true        # Enable automatic checkpoints

# =============================================================================
# Remote Server Connection (Optional)
# =============================================================================

# URL of the remote sync server (crates/remote)
# Set this to connect to a shared task synchronization server
# Can be set at build time or runtime
# VK_SHARED_API_BASE=http://localhost:3000

# =============================================================================
# Swarm/Hive Node Configuration (Optional)
# =============================================================================
# Configure this instance to connect to a central hive server as a node.
# See docs/swarm-hive-setup.mdx for the full setup guide.

# WebSocket URL of the hive server (required to enable swarm mode)
# VK_HIVE_URL=wss://hive.example.com

# API key for authenticating with the hive (required)
# Generate this from the hive's API: POST /v1/nodes/api-keys
# VK_NODE_API_KEY=vk_xxxxxxxxxxxxx

# Human-readable name for this node (optional, defaults to hostname)
# VK_NODE_NAME=My Development Machine

# Public URL where this node can be reached for direct log streaming (optional)
# If set, the hive frontend can connect directly to this node for lower latency
# Requires HOST=0.0.0.0 to be accessible from other machines
# VK_NODE_PUBLIC_URL=http://192.168.1.50:3000

# JWT secret for validating direct connection tokens (optional)
# Must match the hive's VIBEKANBAN_REMOTE_JWT_SECRET for direct log streaming
# VK_CONNECTION_TOKEN_SECRET=your_base64_encoded_secret

# =============================================================================
# Authentication
# =============================================================================

# OAuth credentials storage backend (macOS only)
# Values: keychain (default in release), file (default in debug)
# OAUTH_CREDENTIALS_BACKEND=keychain

# =============================================================================
# Debug Options
# =============================================================================

# Disable git worktree cleanup (for debugging)
# DISABLE_WORKTREE_ORPHAN_CLEANUP=1

# Enable debug output in CLI
# VIBE_KANBAN_DEBUG=1

# =============================================================================
# Frontend Development (Vite)
# =============================================================================

# Auto-open browser on dev server start
# VITE_OPEN=true

# Enable i18n linting rules in ESLint
# LINT_I18N=true

# Allow embedding in iframe from specific origin
# VITE_PARENT_ORIGIN=https://example.com
 echo FRONTEND_PORT=4000 echo BACKEND_PORT=4001 echo MCP_PORT=4002 grep -E PORT .env.testing
 echo FRONTEND_PORT=4000 echo BACKEND_PORT=4001 echo MCP_PORT=4002 grep -E PORT .env.testing
 echo FRONTEND_PORT=4000 echo BACKEND_PORT=4001 echo MCP_PORT=4002 grep -E PORT .env.testing
 echo FRONTEND_PORT=4000 echo BACKEND_PORT=4001 echo MCP_PORT=4002 grep -E PORT .env.testing
FRONTEND_PORT=4000
BACKEND_PORT=4001
MCP_PORT=4002
