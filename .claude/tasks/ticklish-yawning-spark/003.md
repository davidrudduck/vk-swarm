---
name: Restructure action bar layout
status: open
created: 2026-01-11T23:18:03Z
updated: 2026-01-11T23:18:03Z
depends_on: [001, 002]
conflicts_with: [001, 002]
---

# Task: Restructure action bar layout

## Description
Restructure the action bar in TaskFollowUpSection to move VariantSelector from left to right, and add the new Template button next to the Image button.

## Acceptance Criteria
- [ ] Left side contains: Image button + Template button
- [ ] Center has flexible spacer
- [ ] Right side contains: VariantSelector (when idle) + Send/Stop/Queue buttons
- [ ] VariantSelector is hidden when executor is running
- [ ] Template button has FileText icon with secondary variant

## Technical Details
- File: `frontend/src/components/tasks/TaskFollowUpSection.tsx`
- Restructure the action bar (around lines 535-560):
  ```tsx
  <div className="flex flex-row gap-2 items-center">
    {/* Left side: Image + Template buttons */}
    <div className="flex gap-2">
      {/* Image button */}
      <Button variant={...} size="sm" onClick={...}>
        <ImageIcon className="h-4 w-4" />
      </Button>
      {/* NEW: Insert Template button */}
      <Button variant="secondary" size="sm" onClick={() => setShowTemplatePicker(true)}>
        <FileText className="h-4 w-4" />
      </Button>
    </div>
    
    {/* Spacer */}
    <div className="flex-1" />
    
    {/* Right side: Variant (when idle) + Action buttons */}
    <div className="flex items-center gap-2">
      {!isAttemptRunning && (
        <VariantSelector ... />
      )}
      {/* existing Stop/Send/Queue buttons */}
    </div>
  </div>
  ```

## Dependencies
- [ ] Task 001 - FileText icon import
- [ ] Task 002 - showTemplatePicker state

## Effort Estimate
- Size: S
- Hours: 0.5

## Definition of Done
- [ ] Code implemented
- [ ] Template button appears next to Image button
- [ ] VariantSelector appears on right side when idle
- [ ] VariantSelector is hidden when running
- [ ] No TypeScript errors
- [ ] No ESLint warnings
