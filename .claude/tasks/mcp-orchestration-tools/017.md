---
name: Update frontend Project types
status: open
created: 2026-01-19T12:00:00Z
updated: 2026-01-19T12:00:00Z
depends_on: ["016"]
conflicts_with: []
model_hint: simple
estimated_minutes: 15
---

# Task: Update frontend Project types

## Goal
Regenerate TypeScript types and add stop_script to frontend project form if applicable.

## Context
After updating the Rust Project model (Tasks 014-016), we need to:
1. Regenerate TypeScript types from Rust
2. Update the ProjectForm component if it has script input fields

**IMPORTANT**: The TypeScript types are auto-generated from Rust. Run `npm run generate-types` first.

## Steps
1. Run `npm run generate-types` to update TypeScript types
2. Check if ProjectForm has script fields - if so, add stop_script
3. Verify TypeScript compiles

## Files to Modify
- `shared/types.ts` - Auto-generated, just run the command
- `frontend/src/components/projects/ProjectForm.tsx` - Add stop_script field if form exists

## Code

### Step 1: Generate types

Run from project root:
```bash
npm run generate-types
```

This will update `shared/types.ts` with the new `stop_script` field on `Project`, `CreateProject`, and `UpdateProject` types.

### Step 2: Check ProjectForm

Look at `frontend/src/components/projects/ProjectForm.tsx` (or similar). If it has fields for `setup_script`, `dev_script`, `cleanup_script`, add a similar field for `stop_script`.

If the form exists with script fields, add after the cleanup_script field:

```typescript
<div className="space-y-2">
  <Label htmlFor="stop_script">
    {t('projects.stopScript', 'Stop Script')}
  </Label>
  <Textarea
    id="stop_script"
    value={formData.stop_script || ''}
    onChange={(e) =>
      setFormData({ ...formData, stop_script: e.target.value })
    }
    placeholder={t(
      'projects.stopScriptPlaceholder',
      'Script to stop dev server gracefully'
    )}
    rows={3}
  />
</div>
```

If the form uses a different pattern (e.g., controlled form library, different component structure), follow that pattern.

### Step 3: Verify compilation

Run from frontend directory:
```bash
cd frontend && npx tsc --noEmit
```

## Verification
- [ ] Run `npm run generate-types` succeeds
- [ ] `shared/types.ts` contains `stop_script` field in Project type
- [ ] Run `cd frontend && npx tsc --noEmit` succeeds
- [ ] If ProjectForm exists with script fields, stop_script field is added

## Commit
`feat(frontend): add stop_script to project form`

## Notes
- TypeScript types are auto-generated - never edit `shared/types.ts` directly
- If ProjectForm doesn't have script fields or doesn't exist, this task is just running generate-types
- The form field is optional since `stop_script` is nullable
- Use `formData.stop_script || ''` to handle null/undefined values
- Translation keys follow the existing pattern in the codebase
