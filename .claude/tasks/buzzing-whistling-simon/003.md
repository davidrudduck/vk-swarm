---
name: Create useSwarmHealthActions hook with bulk operation logic
status: completed
created: 2026-01-16T02:45:11Z
updated: 2026-01-16T09:20:00Z
depends_on: []
conflicts_with: [004]
---

# Task: Create useSwarmHealthActions hook with bulk operation logic

## Description
Extract bulk operation logic from SwarmHealthSection component into a dedicated hook. This hook will use `projectsApi` instead of raw fetch calls and provide detailed error tracking.

## Acceptance Criteria
- [x] File `frontend/src/hooks/useSwarmHealthActions.ts` created
- [x] Hook exports useSwarmHealthActions function
- [x] Uses projectsApi.getAll() instead of raw fetch
- [x] Uses projectsApi.getSyncHealth() for health checks
- [x] Uses useProjectMutations().unlinkFromSwarm for unlink operations
- [x] Returns { fixAllIssues, isFixing }
- [x] Preserves detailed error information per project
- [x] TypeScript compilation passes
- [x] ESLint passes

## Technical Details
- Location: `frontend/src/hooks/useSwarmHealthActions.ts` (new file)
- Import projectsApi from lib/api/projects
- Import useProjectMutations from ./useProjectMutations
- Follow callback pattern: on{Action}Success, on{Action}Error, on{Action}Partial
- Return type: `{ fixAllIssues: () => Promise<FixAllResult>; isFixing: boolean }`

## Dependencies
- None (uses existing hooks and API)

## Effort Estimate
- Size: S
- Hours: 0.75

## Definition of Done
- [x] Hook implemented per specification
- [x] TypeScript types defined for options and return value
- [x] Code compiles without errors
- [x] ESLint passes
- [x] Code committed with descriptive message
