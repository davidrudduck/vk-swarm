---
name: Add useMemo optimisation to useSwarmHealth hook
status: completed
created: 2026-01-16T02:45:11Z
updated: 2026-01-16T08:57:00Z
depends_on: [001]
conflicts_with: []
---

# Task: Add useMemo optimisation to useSwarmHealth hook

## Description
Update the `useSwarmHealth` hook to use the constants from Task 001 and wrap aggregation logic in useMemo to prevent unnecessary recalculations on every render.

## Acceptance Criteria
- [x] Import constants from `../constants/swarm`
- [x] Replace magic numbers with imported constants (lines 19, 29)
- [x] Wrap aggregation logic (lines 38-51) in useMemo
- [x] useMemo dependencies correctly set to [isLoading, hasError, syncHealthQueries]
- [x] TypeScript compilation passes (no errors in useSwarmHealth.ts)
- [x] ESLint passes with no warnings

## Technical Details
- Location: `frontend/src/hooks/useSwarmHealth.ts`
- Import React's `useMemo`
- Replace staleTime values with constants
- Memoize projectsWithIssues and totalOrphanedTasks calculation

## Dependencies
- [x] Task 001 completed (constants file must exist)

## Effort Estimate
- Size: S
- Hours: 0.5

## Definition of Done
- [x] Code implemented per acceptance criteria
- [x] Hook returns correct summary data
- [x] TypeScript compilation passes
- [x] ESLint passes
- [x] Code committed with descriptive message
