---
name: Sort Variant Selector in Conversation Window
status: open
created: 2026-01-19T15:30:00Z
updated: 2026-01-19T15:30:00Z
depends_on: ["001", "002"]
conflicts_with: []
model_hint: simple
estimated_minutes: 15
---

# Task: Sort Variant Selector in Conversation Window

## Goal
Add alphabetical sorting to the variant selector dropdown in the conversation window.

## Context
The conversation window has a `VariantSelector` component that shows a dropdown of variant configurations (like "DEFAULT", "fast", "thorough"). This dropdown should display options in alphabetical order.

Unlike the previous tasks which used `Object.keys().sort().map()`, this component uses `Object.entries()` which returns `[key, value]` tuples. We need to sort by the key (first element of each tuple).

## Steps
1. Open `frontend/src/components/tasks/VariantSelector.tsx`
2. Find line 75 where the dropdown items are mapped using `Object.entries()`
3. Add `.sort(([a], [b]) => a.localeCompare(b))` after `Object.entries(currentProfile)` and before `.map()`

## Files to Modify
- `frontend/src/components/tasks/VariantSelector.tsx` - line 75: add sort before map

## Code

Find this code block (around lines 74-84):
```typescript
        <DropdownMenuContent>
          {Object.entries(currentProfile).map(([variantLabel]) => (
            <DropdownMenuItem
              key={variantLabel}
              onClick={() => onChange(variantLabel)}
              className={selectedVariant === variantLabel ? 'bg-accent' : ''}
            >
              {variantLabel}
            </DropdownMenuItem>
          ))}
        </DropdownMenuContent>
```

Change it to (add `.sort(([a], [b]) => a.localeCompare(b))` after `Object.entries(currentProfile)` and before `.map`):
```typescript
        <DropdownMenuContent>
          {Object.entries(currentProfile)
            .sort(([a], [b]) => a.localeCompare(b))
            .map(([variantLabel]) => (
              <DropdownMenuItem
                key={variantLabel}
                onClick={() => onChange(variantLabel)}
                className={selectedVariant === variantLabel ? 'bg-accent' : ''}
              >
                {variantLabel}
              </DropdownMenuItem>
            ))}
        </DropdownMenuContent>
```

The key changes:
- Line 75 FROM: `{Object.entries(currentProfile).map(([variantLabel]) => (`
- Line 75-76 TO:
  ```javascript
  {Object.entries(currentProfile)
    .sort(([a], [b]) => a.localeCompare(b))
    .map(([variantLabel]) => (
  ```

## Why localeCompare?
- `Object.entries()` returns `[key, value]` tuples
- The sort callback destructures: `([a], [b])` extracts just the keys
- `a.localeCompare(b)` provides proper string comparison for alphabetical order
- This is the same pattern used in the existing sorted dropdowns elsewhere in the codebase

## Verification
- [ ] `cd frontend && npx tsc --noEmit` succeeds with no type errors
- [ ] `cd frontend && npm run lint` passes

## Commit
After completing all three tasks, commit with:
`feat: add alphabetical sorting to executor/variant dropdowns`

## Notes
- This is the final task - after completing it, all three changes should be committed together
- The commit message should summarize all changes: sorting added to Settings page (2 dropdowns) and conversation window (1 dropdown)
