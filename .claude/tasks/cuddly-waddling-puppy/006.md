---
name: Create Swarm API Patterns Documentation
status: completed
created: 2026-01-11T11:04:49Z
updated: 2026-01-12T09:00:00Z
depends_on: [001, 002, 003, 004, 005]
conflicts_with: []
---

# Task: Create Swarm API Patterns Documentation

## Description
Create architecture documentation that explains the patterns for handling remote task attempts in the Vibe Kanban swarm architecture.

## Acceptance Criteria
- [x] Document created at `docs/architecture/swarm-api-patterns.mdx`
- [x] Three patterns documented:
  1. Read Operations → Return fallback (empty/false) for local-only data
  2. Write Operations → Proxy to owning node via `check_remote_task_attempt_proxy`
  3. Hive Data → Fetch from Hive API (existing pattern)
- [x] Code examples included for each pattern
- [x] Endpoints categorized by pattern type

## Completion Notes
This task was completed as part of Task 005 (Documentation and Verification). The documentation file exists at `docs/architecture/swarm-api-patterns.mdx` with:
- Complete overview of swarm architecture data flow
- RemoteTaskAttemptContext explanation
- All three patterns with code examples
- Decision matrix for endpoints
- Guidelines for adding new endpoints

## Technical Details
- **File**: `docs/architecture/swarm-api-patterns.mdx` (new file)
- Document structure:
  1. Overview of swarm architecture
  2. RemoteTaskAttemptContext explanation
  3. Pattern 1: Read-only local data (fallback to empty)
  4. Pattern 2: Write operations (proxy to owner)
  5. Pattern 3: Hive data (existing sync)
  6. List of endpoints and their patterns

## Content Outline
```markdown
# Swarm API Patterns

## Overview
When viewing tasks from swarm projects on non-owning nodes...

## RemoteTaskAttemptContext
Explanation of the context struct and when it's injected...

## Pattern 1: Local-Only Read Operations
For data that only exists locally (sessions, message queue)...
- Returns fallback value (empty array, false)
- Examples: has_session_error, list_queued_messages, get_task_attempt_children

## Pattern 2: Write Operations (Proxy)
For write operations that must run on the owning node...
- Uses check_remote_task_attempt_proxy
- Proxies via node_proxy_client
- Examples: fix_sessions, stop_task_attempt_execution

## Pattern 3: Hive Data
For data stored in the central hive database...
- Fetched via HiveApiClient
- Examples: task metadata, project info
```

## Dependencies
- [ ] All implementation tasks (001-005) should be complete first

## Effort Estimate
- Size: S
- Hours: 0.5

## Definition of Done
- [ ] Documentation file created
- [ ] All three patterns documented with examples
- [ ] Reviewed for accuracy against implementation
