---
name: Add SpawnContext struct to executor actions
status: completed
created: 2026-01-23T08:42:27Z
updated: 2026-01-23T08:51:00Z
depends_on: []
parallel: false
conflicts_with: []
---

# Task: Add SpawnContext struct to executor actions

## Description
Create a new `SpawnContext` struct in the executors crate that will carry task context information (task_attempt_id, task_id, execution_process_id) to executor spawn methods.

## Acceptance Criteria
- [x] `SpawnContext` struct defined in `crates/executors/src/actions/mod.rs`
- [x] Contains fields: task_attempt_id, task_id, execution_process_id (all Uuid)
- [x] Struct is public and derives Debug, Clone
- [x] `Executable::spawn()` trait method signature updated to accept `SpawnContext` parameter
- [x] Code compiles without errors (in mod.rs - executor implementations expected to fail)

## Technical Details
**File**: `crates/executors/src/actions/mod.rs`

Add the struct:
```rust
pub struct SpawnContext {
    pub task_attempt_id: Uuid,
    pub task_id: Uuid,
    pub execution_process_id: Uuid,
}
```

Modify the `Executable` trait's `spawn` method signature to accept the new context:
```rust
async fn spawn(
    &self,
    current_dir: &Path,
    approvals: Arc<dyn ExecutorApprovalService>,
    context: SpawnContext,  // NEW parameter
) -> Result<SpawnedChild, ExecutorError>;
```

This is a **breaking change** - all implementations of `Executable::spawn()` will need to be updated in subsequent tasks.

## Dependencies
- None - this is the foundational change

## Effort Estimate
- Size: XS
- Hours: 0.5
- Parallel: false (other tasks depend on this)

## Definition of Done
- [x] Code implemented in mod.rs
- [x] All struct fields are public and correctly typed
- [x] Trait signature updated
- [x] Code compiles (will have compiler errors in implementations - that's expected)
- [x] Changes committed to git
