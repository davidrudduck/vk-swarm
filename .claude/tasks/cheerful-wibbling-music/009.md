---
name: Create and pass SpawnContext in container module
status: completed
created: 2026-01-23T08:42:27Z
updated: 2026-01-24T09:50:00Z
depends_on: [001, 002, 003, 004, 005, 006, 007, 008]
parallel: false
conflicts_with: []
---

# Task: Create and pass SpawnContext in container module

## Description
Update the container module to create SpawnContext instances with the correct IDs and pass them to executor spawn calls.

## Acceptance Criteria
- [x] Container module creates SpawnContext before spawning executors
- [x] SpawnContext populated with execution_process.id, task_attempt.id, task.id
- [x] Context passed to executor_action.spawn() call
- [x] Code compiles without errors
- [x] All executor spawn calls receive proper context

## Technical Details
**File**: `crates/local-deployment/src/container.rs`

Find where `executor_action.spawn()` is called. Before that call:
1. Create a SpawnContext instance
2. Populate it with the IDs from the execution_process, task_attempt, and task records
3. Pass it to the spawn call

Example:
```rust
let spawn_context = SpawnContext {
    task_attempt_id: task_attempt.id,
    task_id: task_attempt.task_id,
    execution_process_id: execution_process.id,
};

executor_action.spawn(
    &worktree_path,
    approvals,
    spawn_context,
).await?
```

Make sure you have access to all three IDs at the point where spawn is called. You may need to pass them through function parameters if they're not already available.

## Dependencies
- [x] Task 001: SpawnContext struct exists
- [x] Task 002: CodingAgentInitial updated
- [x] Tasks 003-008: All executors updated to accept SpawnContext

## Effort Estimate
- Size: S
- Hours: 1
- Parallel: false (must wait for all executor updates)

## Definition of Done
- [x] SpawnContext created with correct IDs
- [x] Context passed to spawn calls
- [x] Code compiles without errors
- [x] No warnings about unused parameters
- [x] Changes committed to git
