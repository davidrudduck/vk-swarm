---
name: Replace window.confirm in SystemSettings
status: completed
created: 2026-01-16T04:56:56Z
updated: 2026-01-16T15:50:00Z
depends_on: []
conflicts_with: [004, 006, 007]
---

# Task: Replace window.confirm in SystemSettings

## Description
Replace native window.confirm() calls with ConfirmDialog component for better UX in SystemSettings.tsx, and add VACUUM button cooldown.

## Acceptance Criteria
- [x] ConfirmDialog imported from components/dialogs
- [x] Cooldown state added for VACUUM (5 minutes)
- [x] handlePurgeArchived converted to async with ConfirmDialog
- [x] handlePurgeLogs converted to async with ConfirmDialog
- [x] Optimize button disabled when cooldown active
- [x] onVacuumSuccess callback updates cooldown timestamp

## Technical Details
- File: frontend/src/pages/settings/SystemSettings.tsx
- Import ConfirmDialog component
- Add state: `lastVacuumTime` and `canVacuum` computed value
- Use `ConfirmDialog.show()` with destructive variant
- Update button disabled prop to check cooldown

## Dependencies
- None

## Effort Estimate
- Size: S
- Hours: 0.5

## Definition of Done
- [x] All window.confirm replaced
- [x] Cooldown implemented
- [x] TypeScript compilation passes
- [x] Dialogs work in browser
- [x] Changes committed
