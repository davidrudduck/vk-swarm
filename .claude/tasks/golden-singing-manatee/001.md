---
name: Add dotenvy call to migrate_logs binary
status: done
created: 2026-01-08T05:59:37Z
updated: 2026-01-08T10:28:00Z
depends_on: []
conflicts_with: []
---

# Task: Add dotenvy call to migrate_logs binary

## Description
Add `dotenvy::dotenv().ok();` call to the `migrate_logs` binary so it respects `VK_DATABASE_PATH` from the `.env` file. Currently the migration tool ignores `.env` files, causing operators to need to manually specify the database path.

## Acceptance Criteria
- [x] `dotenvy::dotenv().ok();` added before tracing init in `migrate_logs.rs`
- [x] Migration tool reads `VK_DATABASE_PATH` from `.env` file
- [x] Fallback to default path still works when no `.env` present
- [x] Build succeeds: `cargo build --bin migrate_logs`

## Technical Details
- **File**: `crates/server/src/bin/migrate_logs.rs:44`
- Add the dotenvy call at the beginning of `main()` before tracing init
- The `dotenvy` crate should already be a dependency

## Dependencies
- [x] None

## Effort Estimate
- Size: XS
- Hours: 0.5

## Definition of Done
- [x] Code implemented
- [x] Manual verification with custom `.env` file
- [x] Build passes

## Completion Notes
- Added `dotenvy::dotenv().ok();` at line 46 of `migrate_logs.rs`
- Verified build succeeds with `cargo build --bin migrate_logs`
- Tested with custom `.env` file containing `VK_DATABASE_PATH`
- Existing tests for `database_path()` all pass (3 tests)
