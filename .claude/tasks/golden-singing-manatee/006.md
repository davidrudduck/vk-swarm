---
name: Modify normalize_logs to return JoinHandle
status: open
created: 2026-01-08T05:59:37Z
updated: 2026-01-08T05:59:37Z
depends_on: [005]
conflicts_with: [007]
---

# Task: Modify normalize_logs to return JoinHandle

## Description
Modify the `normalize_logs` function in Cursor and OpenCode executors to return a `JoinHandle<()>` instead of spawning fire-and-forget tasks. This allows the caller to await completion.

## Acceptance Criteria
- [ ] `cursor.rs` normalize_logs returns `JoinHandle<()>`
- [ ] `opencode.rs` normalize_logs returns `JoinHandle<()>`
- [ ] Function signatures updated consistently
- [ ] Build succeeds

## Technical Details
- **Files**:
  - `crates/executors/src/executors/cursor.rs:141-167`
  - `crates/executors/src/executors/opencode.rs:292-370`

```rust
// Before:
pub fn normalize_logs(/* params */) {
    tokio::spawn(async move {
        // existing logic
    });
}

// After:
pub fn normalize_logs(/* params */) -> JoinHandle<()> {
    tokio::spawn(async move {
        // existing logic
    })
}
```

## Dependencies
- [ ] Task 005: Write test for normalization completion

## Effort Estimate
- Size: S
- Hours: 1

## Definition of Done
- [ ] Code implemented in both executors
- [ ] Build passes
- [ ] Return type is `JoinHandle<()>`
