---
name: Add code comments documenting JSON format
status: complete
created: 2026-01-18T05:57:17Z
updated: 2026-01-19T14:52:00Z
depends_on: [006]
conflicts_with: []
---

# Task: Add code comments documenting JSON format

## Description
Add comprehensive code comments explaining the OpenCode JSON format for future maintainers.

## Acceptance Criteria
- [x] Doc comment on JsonEvent structs explaining format
- [x] Example JSON events in comments
- [x] Comment on process_json_events() explaining event flow
- [x] Links to OpenCode documentation if available

## Technical Details
- Implementation approach: Add rustdoc comments with examples
- Key considerations: Make it easy for future developers to understand the format
- Code locations/files affected: `crates/executors/src/executors/opencode.rs`

Add comments showing example JSON:
```rust
/// OpenCode JSON event format (--format json)
///
/// Events are emitted to stdout as newline-delimited JSON:
/// ```json
/// {"type":"step_start","sessionID":"ses_...","part":{...}}
/// {"type":"text","sessionID":"ses_...","part":{"text":"Hello!"}}
/// {"type":"step_finish","sessionID":"ses_...","part":{"reason":"stop"}}
/// ```
```

## Dependencies
- [x] Task 006 (JSON processing complete)

## Effort Estimate
- Size: XS
- Hours: 0.25

## Definition of Done
- [x] Comments added to struct definitions
- [x] Comments added to process_json_events()
- [x] Example JSON included
- [x] Code compiles
