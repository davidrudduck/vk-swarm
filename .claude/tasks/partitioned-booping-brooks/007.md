---
name: Add test for on-demand migration in get_logs_paginated
status: done
created: 2026-01-12T08:02:12Z
updated: 2026-01-13T09:57:00Z
depends_on: [005, 006]
conflicts_with: [008]
---

# Task: Add test for on-demand migration in get_logs_paginated

## Description
Write a test to verify that `get_logs_paginated` triggers migration automatically when log_entries is empty but legacy logs exist.

## Acceptance Criteria
- [x] Test creates execution with legacy logs but empty log_entries
- [x] Test calls get_logs_paginated
- [x] Test asserts returns populated logs (migration was triggered)

## Technical Details
- Location: `crates/services/src/services/unified_logs.rs` (test module)
- Name: `test_get_logs_paginated_triggers_migration`
- Setup: Insert legacy logs, ensure log_entries empty
- Verify: After call, logs are returned

## Dependencies
- [x] Tasks 005, 006 complete (migration must work correctly)

## Effort Estimate
- Size: XS
- Hours: 0.5

## Definition of Done
- [x] Test written and compiles
- [x] Test fails (expected - implementation not done yet)
