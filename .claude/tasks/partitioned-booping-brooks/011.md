---
name: Add test for signature_delta handling
status: done
created: 2026-01-12T08:02:12Z
updated: 2026-01-12T08:02:12Z
depends_on: []
conflicts_with: [012]
---

# Task: Add test for signature_delta handling

## Description
Write tests to verify that the new `signature_delta` type from Claude's API is handled correctly.

## Acceptance Criteria
- [x] Test: SignatureDelta deserializes correctly from JSON
- [x] Test: SignatureDelta is ignored when appending to content (doesn't affect buffer)

## Technical Details
- Location: `crates/executors/src/executors/claude.rs` (test module)
- Tests:
  - `test_signature_delta_deserialization`
  - `test_signature_delta_ignored_in_content`

## Code
```rust
#[test]
fn test_signature_delta_deserialization() {
    let json = r#"{"type": "signature_delta", "signature": "abc123"}"#;
    let delta: ClaudeContentBlockDelta = serde_json::from_str(json).unwrap();
    assert!(matches!(delta, ClaudeContentBlockDelta::SignatureDelta { .. }));
}

#[test]
fn test_signature_delta_ignored_in_content() {
    let mut content = StreamingContent::new(ClaudeContentItem::Thinking { thinking: "test".into() });
    content.append_delta(ClaudeContentBlockDelta::SignatureDelta { signature: "abc".into() });
    assert_eq!(content.buffer, "test");
}
```

## Dependencies
- [ ] None (can start independently)

## Effort Estimate
- Size: XS
- Hours: 0.5

## Definition of Done
- [x] Tests written and compile
- [x] Tests fail (expected - implementation not done yet)
