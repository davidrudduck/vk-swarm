---
name: Update UserMessage component props for metadata
status: completed
created: 2026-01-11T11:25:01Z
updated: 2026-01-11T11:25:01Z
depends_on: [002]
conflicts_with: [004]
---

# Task: Update UserMessage component props for metadata

## Description
Add a new `metadata` prop to the UserMessage component that accepts the injected message metadata and add logic to detect if a message was injected.

## Acceptance Criteria
- [x] `metadata` prop added to UserMessage component
- [x] Prop type is `Record<string, unknown> | null | undefined`
- [x] `isInjected` variable derived from `metadata?.injected === true`
- [x] Component compiles without TypeScript errors

## Completion Notes
Added metadata prop and isInjected detection to UserMessage component.

## Technical Details
- File: `frontend/src/components/NormalizedConversation/UserMessage.tsx`
- Add metadata to destructured props
- Create `const isInjected = metadata?.injected === true;`

## Dependencies
- Task 002 (TypeScript types must include metadata)

## Effort Estimate
- Size: XS
- Hours: 0.25

## Definition of Done
- [x] Props updated
- [x] TypeScript compiles
