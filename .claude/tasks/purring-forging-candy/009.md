---
name: Complete tasks route migration with router
status: completed
created: 2026-01-10T10:10:58Z
updated: 2026-01-11T09:10:00Z
depends_on: [004, 005, 006, 007, 008]
conflicts_with: []
---

# Task: Complete tasks route migration with router

## Description
Add the router function to mod.rs and verify all handlers are working correctly.

## Acceptance Criteria
- [x] Router function added to mod.rs
- [x] All routes properly connected to handlers
- [x] Original tasks.rs can be deleted
- [x] `cargo test --workspace` passes
- [x] All API endpoints work correctly

## Technical Details
- Add router() function to mod.rs using same pattern as original tasks.rs
- Wire up all handlers from the handlers module
- Use load_task_middleware where appropriate
- Update routes/mod.rs to use new module

## Files to Modify
- crates/server/src/routes/tasks/mod.rs
- crates/server/src/routes/mod.rs (update import)

## Files to Delete
- crates/server/src/routes/tasks.rs (after verification)

## Dependencies
- Tasks 004, 005, 006, 007, 008 (all handlers)

## Effort Estimate
- Size: S
- Hours: 0.75

## Definition of Done
- [x] Router compiles
- [x] All tests pass
- [x] API endpoints verified
- [x] Original file deleted
- [x] Clippy passes

## Completion Notes (2026-01-11)
- Added router() function to tasks_new/mod.rs with full route structure
- Updated routes/mod.rs to use tasks_new instead of tasks
- Updated generate_types.rs to reference tasks_new module
- Deleted original tasks.rs file
- Cargo check and clippy pass with no errors
- Server tests pass
- Browser verification shows frontend loads correctly with tasks displayed
