---
name: Implement get_claude_project_dir Function
status: completed
created: 2026-01-18T05:57:09Z
updated: 2026-01-18T20:45:00Z
depends_on: ['002']
conflicts_with: []
---

# Task: Implement get_claude_project_dir Function

## Description
Implement function to convert worktree path to Claude Code project directory path (~/.claude/projects/<escaped-path>).

## Acceptance Criteria
- [x] get_claude_project_dir function implemented
- [x] Function converts / to - in path
- [x] Function strips leading - from result
- [x] Function uses dirs::home_dir correctly
- [x] Function tested with sample paths

## Technical Details
Add to session_index.rs:

```rust
fn get_claude_project_dir(worktree_path: &Path) -> PathBuf {
    let home = dirs::home_dir().expect("home directory");
    let escaped = worktree_path
        .to_string_lossy()
        .replace('/', "-")
        .trim_start_matches('-')
        .to_string();
    home.join(".claude/projects").join(escaped)
}
```

## Dependencies
- [x] 002

## Effort Estimate
- Size: XS
- Hours: 0.5

## Definition of Done
- [x] Function implemented (lines 102-110 of session_index.rs)
- [x] Path escaping works correctly
- [x] Test for function passes (test_get_claude_project_dir with 3 test cases)
- [x] Code compiles
